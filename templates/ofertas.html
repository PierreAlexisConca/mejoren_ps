<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ofertas Exclusivas | Polos de Algodón Pima - Palees</title>

    <!-- Fuentes -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Dosis:wght@400;500;600;700;800&family=Inter:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Tailwind y estilos -->
    <link href="{{ url_for('static', filename='css/output.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/main.css') }}" rel="stylesheet">

    <!-- Iconos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body class="bg-palees-gray-light text-palees-text-dark overflow-x-hidden">

    <!-- Overlay oscuro -->
    <div id="cart-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity duration-300 hidden"
        onclick="window.toggleCart()"></div>

    <!-- Header -->
    <header class="bg-white shadow-custom-light sticky w-full top-0 z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="/"
                class="text-3xl header-logo font-dosis font-extrabold text-palees-blue cursor-pointer">PALEES</a>

            <div class="hidden md:flex space-x-8 lg:space-x-12">
                <a href="/"
                    class="nav-link text-palees-text-dark hover:text-palees-yellow font-medium transition-colors">Inicio</a>
                <a href="/coleccion"
                    class="nav-link text-palees-text-dark hover:text-palees-yellow font-medium transition-colors">Categorías</a>
                <a href="/ofertas"
                    class="nav-link active text-palees-text-dark hover:text-palees-yellow font-medium transition-colors">Ofertas</a>
                <a href="/contacto"
                    class="nav-link text-palees-text-dark hover:text-palees-yellow font-medium transition-colors">Contactanos</a>
                <a href="/cuenta"
                    class="nav-link text-palees-text-dark hover:text-palees-yellow font-medium transition-colors">Mi
                    cuenta</a>
            </div>

            <!-- Botón Carrito -->
            <div class="flex items-center">
                <button id="cart-button"
                    class="bg-palees-yellow text-palees-blue rounded-full px-5 py-2 flex items-center space-x-2 font-semibold text-sm hover:bg-yellow-500 transition-colors duration-300 shadow-custom-light active:scale-95">
                    <span>Carrito</span>
                    <i class="fas fa-shopping-cart text-lg"></i>
                    <span id="cart-count"
                        class="bg-palees-blue text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center">0</span>
                </button>
            </div>
        </nav>
    </header>

    <!-- Contenido principal -->
    <main class="pt-12 pb-12">
        <div class="container mx-auto px-6">
            <!-- Banner -->
            <div
                class="relative bg-palees-blue rounded-3xl overflow-hidden mb-10 shadow-custom-medium p-6 md:p-12 text-white">
                <div class="absolute inset-0 bg-cover bg-center opacity-10"
                    style="background-image: url('https://placehold.co/1200x400/1A237E/F8E178?text=SALE+PATTERN');">
                </div>
                <div class="relative z-10 text-center">
                    <h1
                        class="text-5xl md:text-6xl font-dosis font-extrabold text-palees-yellow mb-3 uppercase tracking-wider">
                        FLASH SALE
                    </h1>
                    <p class="text-xl md:text-2xl font-medium mb-6">
                        <i class="fas fa-bolt text-palees-yellow mr-2"></i> ¡Hasta 40% de Descuento en Polos
                        Seleccionados!
                    </p>
                    <a href="#productos-ofertas"
                        class="inline-block bg-palees-yellow text-palees-blue font-bold text-lg px-8 py-3 rounded-full uppercase hover:bg-yellow-500 transition-all duration-300 transform hover:scale-105 shadow-lg">
                        Ver Ofertas Ahora
                    </a>
                    <p class="mt-4 text-sm font-light">Ofertas válidas solo por tiempo limitado.</p>
                </div>
            </div>

            <!-- Productos -->
            <section id="productos-ofertas" class="mt-12">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-dosis font-bold text-palees-blue mb-2">Polos con Descuento</h2>
                    <p class="text-palees-text-medium">Aprovecha precios increíbles en el Algodón Pima más suave.</p>
                </div>
                <div id="products-container"
                    class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                </div>
                <div class="flex justify-center mt-10">
                    <div id="pagination-container" class="flex space-x-2"></div>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-palees-blue text-palees-gray-light py-10 mt-12 shadow-inner">
        <div class="container mx-auto px-6 grid grid-cols-2 md:grid-cols-4 gap-8">
            <div>
                <h3 class="text-3xl font-dosis font-extrabold text-palees-yellow mb-4">PALEES</h3>
                <p class="text-sm mb-4">Polos de calidad, diseñados para durar.</p>
                <div class="flex space-x-4 text-xl">
                    <a href="#" class="hover:text-palees-yellow"><i class="fab fa-facebook"></i></a>
                    <a href="#" class="hover:text-palees-yellow"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="hover:text-palees-yellow"><i class="fab fa-twitter"></i></a>
                </div>
            </div>
            <div>
                <h4 class="text-lg font-semibold mb-4 border-b border-palees-yellow pb-1">Navegación</h4>
                <ul class="space-y-2 text-sm">
                    <li><a href="/coleccion" class="hover:text-palees-yellow">Comprar</a></li>
                    <li><a href="/ofertas" class="hover:text-palees-yellow">Ofertas</a></li>
                    <li><a href="/cuenta" class="hover:text-palees-yellow">Mi Cuenta</a></li>
                    <li><a href="/contacto" class="hover:text-palees-yellow">Contacto</a></li>
                </ul>
            </div>
            <div>
                <h4 class="text-lg font-semibold mb-4 border-b border-palees-yellow pb-1">Ayuda</h4>
                <ul class="space-y-2 text-sm">
                    <li><a href="#" class="hover:text-palees-yellow">Tallas</a></li>
                    <li><a href="#" class="hover:text-palees-yellow">Envíos y Entregas</a></li>
                    <li><a href="#" class="hover:text-palees-yellow">Política de Devolución</a></li>
                    <li><a href="/estado-pedido" class="hover:text-palees-yellow">Rastrear Pedido</a></li>
                </ul>
            </div>
            <div>
                <h4 class="text-lg font-semibold mb-4 border-b border-palees-yellow pb-1">Contacto</h4>
                Email:
                <a href="mailto:palees@gmail.com" class="hover:text-palees-yellow">palees@gmail.com</a>
                <p class="text-sm mt-2">Teléfono: +51 987 654 321</p>
            </div>
        </div>
        <div
            class="container mx-auto px-6 mt-8 pt-4 border-t border-palees-yellow border-opacity-30 text-center text-sm">
            <p>&copy; 2025 Palees. Todos los derechos reservados.</p>
        </div>
    </footer>

    <!-- Carrito lateral -->
    <aside id="cart-panel"
        class="fixed top-0 right-0 h-full w-full md:w-96 bg-white shadow-2xl z-50 transition-transform duration-300 transform translate-x-full flex flex-col">

        <div class="p-6 border-b border-palees-gray-light flex justify-between items-center bg-palees-yellow">
            <h2 class="text-2xl font-dosis font-bold text-palees-blue">
                Tu Carrito <i class="fas fa-shopping-cart ml-2"></i>
            </h2>
            <button onclick="window.toggleCart()" class="text-palees-blue hover:text-palees-red transition-colors">
                <i class="fas fa-times text-2xl"></i>
            </button>
        </div>

        <div id="cart-message-box" class="p-4 bg-palees-yellow text-palees-blue font-semibold hidden text-center"></div>

        <div id="cart-items-list" class="flex-grow overflow-y-auto p-6 space-y-4">
            <p class="text-center text-palees-text-medium italic pt-4">El carrito está vacío.</p>
        </div>

        <div class="p-6 border-t border-palees-gray-light bg-palees-gray-light">
            <div class="flex justify-between items-center text-xl font-bold mb-4">
                <span class="text-palees-blue">Subtotal:</span>
                <span id="cart-total" class="text-palees-blue">S/. 0.00</span>
            </div>
            <button onclick="window.checkout()"
                class="w-full py-3 bg-palees-red text-white font-bold rounded-lg uppercase hover:bg-red-700 transition-colors duration-200 active:scale-[0.99] shadow-md">
                Finalizar Compra
            </button>
        </div>
    </aside>

    <!-- Scripts -->
    <script src="{{ url_for('static', filename='js/cart.js') }}"></script>
    <script src="{{ url_for('static', filename='js/products.js') }}"></script>

    <!-- Fallback funciones si no están en cart.js -->
    <script>
        window.toggleCart = window.toggleCart || function () {
            const panel = document.getElementById('cart-panel');
            const overlay = document.getElementById('cart-overlay');
            panel.classList.toggle('translate-x-full');
            overlay.classList.toggle('hidden');
        };

        window.checkout = window.checkout || function () {
            window.location.href = '/checkout';
        };
    </script>

</body>

</html>